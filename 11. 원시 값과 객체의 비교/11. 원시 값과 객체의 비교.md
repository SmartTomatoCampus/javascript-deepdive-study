# 11.  원시 값과 객체의 비교

생성일: 2022년 2월 28일 오후 8:51

## 11. 1 원시값

**원시타입과 객체타입의 다른 점**

→ 원시 값은 변경 불가능하다 반면에 객체타입의 값은 변경 가능한 값이다.

→ 원시 값을 변수(메모리 공간)에 할당하면 실제 값이 저장 된다, 반면 객체(참조) 타입은 참조값이

    저장 된다.

→ 원시 값을 갖는 변수를 다른 변수에 할당하면 원본의 원시 값이 복사 되어서 전달 된다.

    이를 값에 의한 전달이라 하고, 반면에 객체를 가르키는 변수를 다른 변수에 할당하면 참조에 의한 

    전달이라고 한다.

### 11. 1. 1 원시값

- 원시값은 변경 불가능하며, 읽기 전용이다.
- 원시 값 자체는 변경 불가능하지만, 재할당을 통해서 변수 값을 변경(교체) 할 수 있다.
- 상수의 경우 한 번만 값 할당이 허용된다.
- 원시 값을 재할당 할 경우 새로운 메모리 공간을 확보 한 뒤 재할당한 원시값을 저장하고

      새롭게 재할당한 원시값을 가리킨다.

![Untitled](11%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%89%E1%85%B5%20%E1%84%80%2063e49/Untitled.png)

### 11. 1. 2 문자열과 불변성

- 원시타입 별로 메모리 크기는 정해져 있다.
- 자바스크립트는 문자열도 원시타입이다(변경 불가능)

```jsx
var str = 'Hello';
str = 'world';

// 1. str은 'Hello'가 저장 된 메모리 공간의 주소를 가리킨다.
// 2. 두 번째 문이 실행 되면 'Hello'자체를 수정하는 것이 아니라 새로운 메모리 공간에
// 문자열 'world'를 생성하고 변경 된 주소값을 가리키게 한다.
```

<aside>
💡 **유사배열 객체는 배열과 같이 인덱스로 프로퍼티 값에 접근 가능하고 length 프로퍼티를 갖는다. 따라서 for문을 사용 할 수 있고 문자열도 이에 해당된다.**

</aside>

```jsx
var str = 'string';
console.log(str[0]);   // 인덱스를 사용해 각 문자에 접근 할 수 있다.
console.log(str.length);   // 0
```

```jsx
var str = 'string';
str[0] = '5';

console.log(str);   // 'string'
										// 문자열은 원시값이기 때문에 읽기 전용 값으로, 변경 할 수 없다.
```

### 11. 1. 3 값에 의한 전달

**변수에 원시값을 갖는 변수를 할당하면 할당받는 변수에는 할당되는 변수의 원시값이 복사되어 전달된다. 이를 값에 의한 전달이라고 한다. (메모리 주소 전달)**

```jsx
var score = 80;
var copy = score;

console.log(score);  // 80
console.log(copy);   // 80

score = 100;
console.log(score);   // 100
console.log(copy);    // 80
```

![Untitled](11%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%89%E1%85%B5%20%E1%84%80%2063e49/Untitled%201.png)

![Untitled](11%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%89%E1%85%B5%20%E1%84%80%2063e49/Untitled%202.png)

**→ 변수와 같은 식별자는 값이 아니라 메모리 주소를 기억하고 있는 것이다. (식별자는 메모리 주소에 붙인 이름이다.)**

---

## 11. 2 객체

- 객체는 프로퍼티 개수가 정해져 있지 않고, 동적으로 추가되고 삭제 될 수 있다.

      → 원시 타입과 달리 사전에 미리 메모리 공간의 크기를 정할 필요 없음

- 자바스크립트는 프로퍼티 키를 인덱스로 사용하는 해시테이블과 유사하다
- 자바스크립트는 타 언어와 다르게 객체가 생성 된 이후에도 동적으로 프로퍼티나 메서드를 추가 할 수 있다.

### 11. 2. 1 변경 가능한 값

객체(참조) 타입의 값은 변경 가능한 값이다.

```jsx
var person  = {
	name : 'Lee'
};
```

- 원시값을 할당 한 변수가 기억하는 메모리 주소를 통해 메모리 공간에 접근하면 원시 값에 접근 할 수 있다. → 원시 값을 할당한 변수는 원시 값 자체를 값으로 갖는다.
- 객체는 저장된 메모리 공간의 주소가 저장되어 있다 이를 참조값이라고 한다.

![Untitled](11%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%89%E1%85%B5%20%E1%84%80%2063e49/Untitled%203.png)

- 객체를 할당한 변수는 위와 같이 참조값을 통해 객체에 접근한다.
- 객체를 할당한 변수는 재할당 없이 객체 값을 직접적으로 변경 할 수 있다.

```jsx
var person = {
	name: 'Lee'
};
// 프로퍼티 값 갱신
person.name = 'Kim';

// 프로퍼티 동적 생성
person.address = 'Seoul';

console.log(person);   // {name: "Kim", address: "Seoul"}
```

- 객체는 크기가 매우 클 수도 있고, 원시값처럼 크기가 일정하지 않기 때문에 객체를 복사한다면 비용이 많이 든다, 따라서 변경가능한 값으로 설계되어 있다.

<aside>
💡 **객체의 얕은 복사란 참조 값을 복사하는 것이고, 깊은 복사란 객체 자체를 모두 복사해서 원시값처럼 완전한 복사본을 만든다는 것이다.**

</aside>

![Untitled](11%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%89%E1%85%B5%20%E1%84%80%2063e49/Untitled%204.png)

### 11. 2. 2 참조에 의한 전달

**객체를 가리키는 변수를 다른변수에 할당하면 원본 참조값이 복사되어 전달되는데,** 

**이를 참조에 의한 전달이라 한다.**

```jsx
var person = {
	name: 'Lee'
};
// 참조 값 복사(얕은 복사)
var copy = person;
```

![Untitled](11%20%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%89%E1%85%B5%20%E1%84%80%2063e49/Untitled%205.png)

**→ 이는 두 개의 식별자가 하나의 객체를 공유함을 의미한다.**

<aside>
💡 **자바스크립트는 포인터가 존재하지 않기 때문에 타 언어의 “참조에 의한 전달”과 의미가 정확히 일치하지는 않는다.**

</aside>
# 26. ES6 함수의 추가 기능

생성일: 2022년 3월 24일 오후 9:17

## 26. 1 함수의 구분

> ES6 이전의 모든 함수는 사용 목적에 따라 명확한 구분이 없었고, 호출 방식에 특별한 제약이 없고 생성자 함수로 호출하지 않아도 프로토타입 객체를 생성한다. 이는 혼란스러우며 실수를 유발할 가능성이 있다.
> 

→ 이러한 문제를 해결하기 위해 사용목적에 따라 세 가지 종류로 구분했다.

![Untitled](26%20ES6%20%E1%84%92%E1%85%A1%E1%86%B7%206693f/Untitled.png)

## 26. 2 메서드

- 메서드는 메서드 축약 표현으로 정의된 함수만을 의미한다.
- ES6에서 메서드는 인스턴스를 생성 할 수 없는 non-constructor다
→ prototype 프로퍼티도 없고, 프로토타입도 생성하지 않는다.
- 표준 빌트인 객체가 제공하는 프로토타입 메서드와 정적 메서드는 모두 non-constructor다.

```jsx
const obj = {
	x: 1,
	// foo는 메서드다
	foo(){ return this.x; },
	bar: function(){ return this.x};
};

new obj.foo(); // TypeError : obj.foo is not a constructor
new obj.bar(); // bar {}
```

- 내부 슬롯 [[HomeObject]]를 갖는 ES6 메서드는 super 키워드를 사용 할 수 있다.

```jsx
const base = {
	name: 'Lee',
	sayHi(){
		return `Hi! ${this.name}`;
	}
};

const derived = {
	__proto__ : base,
	// sayHi는 ES6 메서드다. ES6 메서드는 [[HomeObject]]를 갖는다.
	// sayHi의 [[HomeObject]]는 sayHi가 바인딩된 객체인 derived를 가리키고
	// super는 sayHi의 [[HomeObject]]의 프로토타입인 base를 가리킨다.
};

console.log(derived.sayHi());  // Hi: Lee. how are you doing?
```

## 26. 3 화살표 함수

- 화살표 함수는 function 키워드 대신 화살표(⇒)를 사용하여기존의 함수 정의 방식보다 간략하게 함수를 정의 할 수 있다.

### 26. 3. 1 화살표 함수 정의

```jsx
const multiply = (x, y) => x + y;
multiply(2, 3); // 6
```

매개변수 선언

```jsx
const arrow = (x, y) => { ... };

// 매개변수가 하나인 경우 소괄호를 생략 할 수 있다.
const arrow = x => { ... };

// 매개변수가 없는 경우 소괄호를 생략 할 수 없다.
const arrow = () => { ... };

```

함수 몸체 정의

- 함수 몸체가 하나의 문으로 구성된다면 함수 몸체를 감싸는 중괄호 {}를 생략 할 수 있다.
- 함수 몸체 내부의 문이 값으로 평가될 수 있는 표현식인 문이라면 암묵적으로 변환된다.
- 객체 리터럴을 반환하는 경우에는 객체 리터럴을 소괄호로 감싸주어야 한다.

```jsx
const power = x => x ** 2;
power(2);

// 위 표현은 다음과 동일하다
const power = x => { x ** 2; };

const create = (id, content) => ({ id, content});
// 위 표현은 다음과 동일하다
const create = (id, content) => { return { id, content}; ****};
```

### 26. 3. 2 화살표 함수와 일반 함수의 차이

1. 화살표 함수는 인스턴스를 생성 할 수 없는 non-constructor다
2. 중복된 매개변수 이름을 선언 할 수 없다
3. 화살표 함수는 함수 자체의 this, arguments, super, [new.target](http://new.target) 바인딩을 갖지 않는다.

### 26. 3. 3 this

- 화살표 함수의 this는 함수 자체의 this를 갖지 않는다. 따라서 화살표 함수 내부에서 this를 참조하면 상위 스코프의 this를 그대로 참조한다. 이를 lexical this라고 한다.

## 26. 4 Rest 파라미터

### 26. 4. 1 기본 문법

- 점 ...을 붙여 정의한 매개변수를 의미한다
- 함수에 전달된 인수들의 목록을 배열로 전달받는다.
- 단 하나만 선언 할 수 있다.
- 함수 정의 시 선언한 매개변수 개수를 나타내는 함수 객체의 length 프로퍼티에 영향을 주지 않는다.

### 26. 4. 2 Rest 파라미터와 argument 객체

- 화살표 함수는 함수 자체의 arguments 객체를 갖지 않는다.
- rest 파라미터를 사용하여 가변 인자 함수의 인수 목록을 배열로 직접 전달받을 수 있다.

## 26. 5 매개변수 기본값

- 인수가 전달 되지 않은 매개변수의 값은 undefined다.
- 매개변수 기본값을 사용하면 인수 체크 및 초기화를 간소화 할 수 있다.

```jsx
function sum(x, y = 0) {
	console.log(arguments);
}

console.log(sum.length); // 1

sum(1); // Arguments { '0' : 1 }
sum(1, 2); // Arguments { '0' : 1, '1' : 2 } 
```
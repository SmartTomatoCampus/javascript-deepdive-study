# 34 이터러블

생성일: 2022년 3월 31일 오후 10:09

## 34. 1 이터레이션 프로토콜

### 34. 1. 1 이터러블

- 이터러블은 for...of 를 사용 할 수 있고 스프레드 문법과 배열 디스트럭처링 할당의 대상으로 사용 할 수 있다.

```jsx
const isIterable = v => v !== null && typeof v[Symbol.iterator] === 'function';

// 배열, 문자열, Map, Set 등은 이터러블이다

isIterable([]);  // true
isIterable('');  // true
isIterable(new Map());  // true
isIterable(new Set());  // true
isIterable({});  // false

```

### 34. 1. 2 이터레이터

- 이터러블의 Symbol.iterator 메서드가 반환한 이터레이터는 next 메서드를 갖는다.
- 이터레이터 리절트 객체를 반환한다.

```jsx
const array = [1, 2, 3];

const iterator = array[Symbol.iterator]();

console.log('next' in iterator);  // true
console.log(iterator.next());  // {value: 1, done: false}
console.log(iterator.next());  // {value: 2, done: false}
console.log(iterator.next());  // {value: 3, done: false}
console.log(iterator.next());  // {value: undefined, done: false}
```

## 34. 2 빌트인 이터러블

![Untitled](34%20%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%85%E1%85%A5%E1%84%87%208f27e/Untitled.png)

![Untitled](34%20%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%85%E1%85%A5%E1%84%87%208f27e/Untitled%201.png)

## 34. 3 for ... of 문

- for ... of문은 이터러블을 순회하면서 이터러블의 요소를 변수에 할당한다.
- 내부적으로 next 메서드를 호출하여 이터러블을 순회하며 next 메서드가 반환한 이터레이터 리절트 객체의 value 프로퍼티의 값을 for...of 문의 변수에 할당한다.

## 35. 4 이터러블과 유사 배열 객체

- 유사배열 객체는 for문으로 순회할 수 있고, 인덱스를 나타내는 숫자 형식의 문자열을 프로퍼티키로 가지므로 배열처럼 인덱스로 프로퍼티 값에 접근 할 수 있다.
- 하지만  유사배열객체에는 Symbol.iterator 메서드가 없기 때문에 for  ... of 로 순회 할 수 없다.
- Array.from 메서드는 유사배열 객체 또는 이터러블을 인수로 전달받아 배열로 변환하여 반환한다.

```jsx
for(const item of arrayLike){
	console.log(item);  // 1 2 3
}
// TypeError: arrayLike is not iterable

const arrayLike = {
	0: 1, 
	1: 2,
	2: 3,
	length: 3
};

const arr = Array.from(arrayLike);
console.log(arr);  // [1, 2, 3]
```

## 34. 5  이터레이션 프로토콜의 필요성

- 이터레이션 프로토콜은 데이터 소비자와 데이터 공급자를 연결하는 인터페이스의 역할을 한다.

## 34. 6 사용자 정의 이터러블
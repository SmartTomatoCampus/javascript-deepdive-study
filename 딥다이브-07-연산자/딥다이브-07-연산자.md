# [JavaScript] 연산자

### 연산자

- 연산자는 하나 이상의 표현식을 대상으로 산술, 할당, 비교, 논리, 타입, 지수 연산 등을 수행해서 하나의 값을 만듦

(JavaScript Deep Dive 07장 74쪽)

```jsx
// 산술 연산자
5 * 4 // 20

// 문자열 연결 연산자
'My name is ' + 'KMin' // 'My name is Kmin'

// 할당 연산자
color = 'red' // 'red'

// 비교 연산자
3 > 5 // false

// 논리 연산자
true && false // false

// 타입 연산자
typeof 'Hi' // string
```

# 산술 연산자

### 이항 산술 연산자

⇒ + 덧셈, - 뺄셈, * 곱셈, / 나눗셈, % 나머지 로 구성

---

### 단항 산술 연산자

- ++ : 증가 //  ⇒ 'x++' 는 'x = x + 1' 과 같음
- — : 감소 // ⇒ 'x—' 는 'x = x - 1' 과 같음

> **증가/감소 연산자(++/—)는 위치에 의미가 있음**
> 
> 
> ---
> 
> - 피연산자 앞에 위치한 전위 증가/감소 연산자는 먼저 피연산자의 값을 증가/감소 시킨 후, 다른 연산을 수행함
> - 피연산자 뒤에 위치한 후위 증가/감소 연산자는 먼저 다른 연산을 수행한 후, 피연산자의 값을 증가/감소시킴
> 
> ```jsx
> var x = 5
> var result;
> 
> // 선할당 후 증가
> result = x++
> console.log(result, x) // 5 6
> 
> // 선증가 후할당
> result = ++x
> console.log(result, x) // 7 7
> 
> // 선할당 후감소
> result = x--
> console.log(result, x) // 7 6
> 
> // 선감소 후할당
> result = --x
> console.log(result, x) // 5 5
> ```
> 

---

### 문자열 연결 연산자

- **+ 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작한다**
    
    ```jsx
    // 문자열 연결 연산자
    '1' + 2 // '12'
    1 + '2' // '12'
    
    // 산술 연산자
    1 + 2 // 3
    
    // true는 1로 타입 변환된다.
    1 + true // 2
    
    // false는 0으로 타입 변환된다.
    1 + false // 1
    
    // null 은 0으로 타입 변환된다.
    1 + null // 1
    
    // undefined는 숫자로 타입 변환되지 않는다.
    +undefined // NaN
    1 + undefined // NaN
    ```
    

---

# 할당 연산자

### 할당 연산자

| 할당 연산자 | 예 | 동일 표현 |  부수 효과 |
| --- | --- | --- | --- |
|  = | x = 5 | x = 5 | O |
| += | x += 5 | x = x + 5 | O |
| -= | x -= 5 | x = x - 5 | O |
| *= | x *= 5 | x = x * 5 | O |
| /= | x /= 5 | x = x / 5 | O |
| %= | x %= 5 | x = x % 5 | O |

```jsx
let x = 10

1) x += 5 // 15
2) x -= 5 // 5
3) x *= 5 // 50
4) x /= 5 // 2
5) x %= 5 // 0
```

---

### 비교 연산자

- `==` 동등 비교 : 좌항과 우항의 값이 같은 지를 비교하는데 암묵적 타입 변환이 이루어짐
ex) 5 == '5' // true
- `===` 일치 비교 : 좌항과 우항의 값과 타입이 같음
- `!=` 부동등 비교 / `!==` 불일치 비교

```jsx
'0' == ''; // false
0 == ''; // true
0 == '0' // true
false == 'false' // false
false == '0' // true
false == null // false
false == undefined // false
```

```jsx
5 === 5 // true
5 === '5' // false

NaN === NaN // false
```

NaN 은 자신과 일치하지 않는 유일한 값

동등 비교(==) 연산자는 예측하기 어렵기 때문에 **일치 비교(===) 연산자**를 사용하는 것을 권장

<aside>
💻 [**Object.is](http://Object.is) 메서드**

---

위에서 살펴본 바와 같이 동등 비교 연산자(==)와 일치 비교 연산자(===)는 +0과 -0을 동일하다고 평가함
또한 동일한 값인 NaN 과 NaN 을 다른 값이라고 평가함

ES6 에서 도입된 [Object.is](http://Object.is) 메서드는 예측 가능한 정확한 비교 결과를 반환함

```jsx
-0 === +0 // true
Object.is(-0, +0) // false

NaN === NaN // false
Object.is(NaN, NaN) // true
```

</aside>

---

### 삼항 조건 연산자

### 조건식 ? 조건이 true 일 때 반환할 값 : 조건이 false 일 때 반환할 값

```jsx
let x = 10

let result = x % 2 ? '홀수' : '짝수'
console.log(result) // 짝수
```

0 은 암묵적으로 false

---

### 논리 연산자

| 논리 연산자 |  의미 |
| --- | --- |
| || | 논리합(OR) |
| && | 논리곱(AND) |
| ! | 부정(NOT) |

```jsx
true || true // true
true || false // true
false || true // true
false || false // false

true && true // true
true && false // false
false && true // false
false && false // false

!true // false
!false // true
```

```jsx
// 암묵적 타입 변환
!0 // true
!'Hello' // false
```

---

### typeof 연산자

- `typeof` 연산자는 피연산자의 데이터 타입을 문자열로 반환함
    
    ```jsx
    typeof ''               // "string"
    typeof 1                // "number"
    typeof NaN              // "number"
    typeof true             // "boolean"
    typeof undefined        // "undefined"
    typeof Symbol()         // "symbol"
    typeof null             // "object"
    typeof []               // "object"
    typeof {}               // "object"
    typeof new Date()       // "object"
    typeof /test/gi         // "object"
    typeof function() {}    // "function"
    ```
    

### 지수 연산자

- ES7에서 도입된 지수연산자는 좌항의 피연산자를 밑으로, 우항의 피연산자를 지수로 거듭제곱하여 숫자값을 반환함
    
    ```jsx
    2 ** 2 // 4
    2 ** 2.5 // 5.6568...
    2 ** 0 // 1
    2 ** -2 // 0.25
    ```
    
- 지수 연산자가 도입되기 이전에는 `Math.pow` 메서드를 활용했음
    
    ```jsx
    Math.pow(2, 2)   // 4
    Math.pow(2, 2.5) // 5.6568...
    Math.pow(2, 0)   // 1
    Math.pow(2, -2)  // 0.25
    ```
    
- 지수 연산자는 다른 산술 연산자와 마찬가지로 할당 연산자와 함께 사용할 수 있음
    
    ```jsx
    var num = 5
    num **=2 // 25
    
    // num = num ** 2
    // num = 5 ** 2
    ```
    
- 지수 연산자는 이항 연산자 중에서 우선순위가 가장 높음
    
    ```jsx
    2 * 5 ** 2 // 50
    
    // 2 * ( 5 ** 2 )
    // 2 * 25 // 50
    ```
    

### **그 외의 연산자**

| 연산자 | 개요 | 참고 |
| --- | --- | --- |
| ?. | 옵셔널 체이닝 연산자 | 9.4.2절 “옵셔널 체이닝 연산자” |
| ?? | null 병합 연산자 | 9.4.3절 “null 병합 연산자” |
| delete | 프로퍼티 삭제 | 10.8절 “프로퍼티 삭제” |
| new | 생성자 함수를 호출할 때 사용하여 인스턴스를 생성 | 17.2.6절 “new 연산자” |
| instanceof | 좌변의 객체가 우변의 생성자 함수와 연결된 인스턴스인지 판별 | 19.10절 “instanceof 연산자” |
| in | 프로퍼티 존재 확인 | 19.13.1절 “in 연산자” |

### **연산자의 부수 효과**

- 대부분의 연산자는 다른 코드에 영향을 주지 않고, 새로운 값을 생성함
- 부수효과가 있는 연산자는 `할당 연산자(=)`, `증가/감소 연산자(++/--)`, `delete 연산자` 뿐
    
    ```jsx
    var x;
    
    // 할당 연산자는 변수 값이 변하는 부수 효과가 있음. 변수 x를 사용하는 다른 코드에 영향을 줌
    x = 1
    console.log(x) // 1
    
    // 증가/감소 연산자는 피연산자의 값을 변경하는 부수 효과가 있음
    // 피연산자 x의 값이 재할당되어 변경됨. 변수 x를 사용하는 다른 코드에 영향을 줌
    x++
    console.log(x) // 2
    
    var o = { a: 1 }
    
    // delete 연산자는 객체의 프로퍼티를 삭제하는 부수 효과가 있다. 이는 o 객체를 사용하는 다른 코드에 영향을 준다
    delete o.a
    console.log(o) // { }
    ```
    

### 연산자 우선순위

| 우선순위 | 연산자 |
| --- | --- |
| 1 | ( ) |
| 2 | new (매개변수 존재), ., [](프로퍼티 접근), ()(함수호출), ?. (옵셔널 체이닝 연산자) |
| 3 | new (매개변수 미존재) |
| 4 | x++, x-- |
| 5 | !x, +x, -x, ++x, --x, typeof, delete |
| 6 | ** (이항 연산자 중에서 우선순위가 가장 높다) |
| 7 | * , / , % |
| 8 | + , - |
| 9 | < , <= , > , >= , in , instanceof |
| 10 | == , != , ===, !== |
| 11 | ?? (null 병합 연산자) |
| 12 | && |
| 13 | || |
| 14 | ? ... : ... |
| 15 | , |

( 그냥 괄호를 적극적으로 사용하자 )

### 연산자 결합 순서

| 결합 순서 | 연산자 |
| --- | --- |
| 좌항 → 우항 | + , - , / , < , <= , > , >= , && , || , . , [] , () , ??, ?. , in , instanceof |
| 우항 → 좌항 | ++, --, 할당연산자(=, +=, -=, ...), !x, +x, -x, ++x, --x, typeof, delete, ? ... : ... |
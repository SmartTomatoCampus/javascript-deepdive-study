# 17. ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„±

ìƒì„±ì¼: 2022ë…„ 3ì›” 7ì¼ ì˜¤í›„ 8:47

## 17. 1 Object ìƒì„±ì í•¨ìˆ˜

- ìƒì„±ì í•¨ìˆ˜ë€ new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•˜ì—¬ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§í•œë‹¤.
- ìƒì„±ì í•¨ìˆ˜ì— ì˜í•´ ìƒì„±ëœ ê°ì²´ë¥¼ ì¸ìŠ¤í„´ìŠ¤ë¼ í•œë‹¤.
- Objectë¥¼ ì´ìš©í•´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ì€ ê·¸ë‹¥ ìœ ìš©í•˜ì§€ëŠ” ì•Šë‹¤
- ì£¼ë¡œ ë¦¬í„°ëŸ´ì„ ì´ìš©í•´ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.

```jsx
// ë¹ˆ ê°ì²´ ìƒì„±
const person = new Object();

// í”„ë¡œí¼í‹° ì¶”ê°€
person.name = 'Lee';
perseon.sayHello = function(){
	console.log('Hi: My name is ' + this.name);
}

console.log(person);
pereson.sayHello();
```

## 17. 2 ìƒì„±ì í•¨ìˆ˜

### 17. 2. 1 ê°ì²´ ë¦¬í„°ëŸ´ì— ì˜í•œ ê°ì²´ ìƒì„±ë°©ì‹ì˜ ë¬¸ì œì 

- ê°ì²´ ë¦¬í„°ëŸ´ì˜ ê°ì²´ ìƒì„±ë°©ì‹ì€ í•˜ë‚˜ì˜ ê°ì²´ë§Œ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ë™ì¼í•œ í”„ë¡œí¼í‹°ë¥¼ ê°–ëŠ” ê°ì²´ë¥¼ ì—¬ëŸ¬ê°œ ìƒì„±í•´ì•¼ í•  ê²½ìš° ê°™ì€ í”„ë¡œí¼í‹°ë¥¼ ê¸°ìˆ í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë¹„íš¨ìœ¨ì ì´ë‹¤.

```jsx
const circle1 = {
	radius: 5,
	getDiameter(){
		return 2 * this.radius;
	}
};

console.log(circle1.getDiameter());  // 10

const circle2 = {
	radius: 10,
	getDiameter(){
		return 2 * this.radius;
	}
};

console.log(circle2.getDiameter()); // 20
```

### 17. 2. 2 ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„± ë°©ì‹ì˜ ì¥ì 

- ìƒì„±ì í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œí¼í‹° êµ¬ì¡°ê°€ ë™ì¼í•œ ê°ì²´ ì—¬ëŸ¬ ê°œë¥¼ ê°„í¸í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

```jsx
function Circle(radius){
	// ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
	this.radius = radius;
	this.getDiameter = function(){
		return 2 * this.radius;
	};
}

// ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒì„±
const circle1 = new Circle(5);   // ë°˜ì§€ë¦„ì´ 5ì¸ Circle ê°ì²´ë¥¼ ìƒì„±
const circle2 = new Circle(10);  // ë°˜ì§€ë¦„ì´ 10ì¸ Circle ê°ì²´ë¥¼ ìƒì„±

console.log(circle1.getDiameter());  // 10
console.log(circle2.getDiameter());  // 20
```

<aside>
ğŸ’¡ **this**
thisëŠ” ê°ì²´ ìì‹ ì˜ í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ì°¸ì¡°í•˜ê¸° ìœ„í•œ ìê¸°ì°¸ì¡° ë³€ìˆ˜ë¡œ, thisì˜ ë°”ì¸ë”©ì€ í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ê²°ì •ëœë‹¤.

</aside>

| í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ | thisê°€ ê°€ë¦¬í‚¤ëŠ” ê°’(this ë°”ì¸ë”©) |
| --- | --- |
| ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ | ì „ì—­ ê°ì²´ |
| ë©”ì„œë“œë¡œì„œ í˜¸ì¶œ | ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´(ë§ˆì¹¨í‘œ ì•ì˜ ê°ì²´) |
| ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ | ìƒì„±ì í•¨ìˆ˜ê°€ (ë¯¸ë˜ì—) ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ |

```jsx
function foo(){
	console.log(this);
}

// ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ
foo(); // window -> ì „ì—­ê°ì²´ëŠ” ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„  window, node í™˜ê²½ì—ì„œëŠ” globalì„ ê°€ë¦¬í‚¨ë‹¤.

// ë©”ì„œë“œë¡œì„œ í˜¸ì¶œ
const obj = { foo }; 
obj.foo();  // obj -> ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´

// ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ
const inst = new foo();  // inst
```

## 17. 2. 3 ìƒì„±ì í•¨ìˆ˜ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ê³¼ì •

- ìƒì„±ì í•¨ìˆ˜ì˜ ì—­í• ì€ ë™ì¼í•œ í”„ë¡œí¼í‹° êµ¬ì¡°ë¥¼ ê°–ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ í…œí”Œë¦¿(í´ë˜ìŠ¤)ìœ¼ë¡œ ë™ì‘í•´ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™” í•˜ëŠ” ê²ƒì´ë‹¤.
- ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ìœ¼ë¡œ ì•”ë¬µì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™” í•œ ë’¤ ì•”ë¬µì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.

1. **ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ê³¼ this ë°”ì¸ë”©**
ì•”ë¬µì ìœ¼ë¡œ ë¹ˆ ê°ì²´ê°€ ìƒì„±ëœë‹¤. ì¸ìŠ¤í„´ìŠ¤ëŠ” thisì— ë°”ì¸ë”©ëœë‹¤.
2. ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
ìƒì„±ì í•¨ìˆ˜ì— ê¸°ìˆ ë˜ì–´ìˆëŠ” ì½”ë“œê°€ í•œ ì¤„ì”© ì‹¤í–‰ë˜ì–´ì„œ thisì— ë°”ì¸ë”© ë˜ì–´ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤. 
3. ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜
ìƒì„±ìí•¨ìˆ˜ ë‚´ë¶€ì˜ ì²˜ë¦¬ê°€ ëë‚˜ë©´ ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”© ëœ thisê°€ ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜ëœë‹¤.

```jsx
function Circle(radius){
	// 1. ì•”ë¬µì ìœ¼ë¡œ ë¹ˆ ê°ì²´ ìƒì„±, thisì— ë°”ì¸ë”© ë¨
  // 2. thisì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”
  this.radius = radius;
  this.getDiameter = function(){
		return 2 * this.radius;
	}
	// 3. ì™„ì„±ëœ ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ëœ thisê°€ ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜
	// ëª…ì‹œì ìœ¼ë¡œ ì›ì‹œê°’ ë°˜í™˜ ì‹œ ì›ì‹œ ê°’ì€ ë¬´ì‹œë˜ê³  ì•”ë¬µì ìœ¼ë¡œ thisê°€ ë°˜í™˜ë¨
  return 100;
}

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±, Circle ìƒì„±ìí•¨ìˆ˜ëŠ” ì•”ë¬µì ìœ¼ë¡œ thisë¥¼ ë°˜í™˜í•œë‹¤.
const circle = new Circle(1);
console.log(circle);
```

### 17. 2. 4 ë‚´ë¶€ ë©”ì„œë“œ [[Call]]ê³¼ [[Construct]]

- í•¨ìˆ˜ ê°ì²´ëŠ” ì¼ë°˜ ê°ì²´ê°€ ê°–ê³  ìˆëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ ë¿ ì•„ë‹ˆë¼ [[Call]], [[Construct]] ê°™ì€ ë‚´ë¶€ ë©”ì„œë“œë¥¼ ì¶”ê°€ë¡œ ê°–ê³  ìˆë‹¤.
- ì¼ë°˜í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë˜ëŠ” ê²½ìš° í•¨ìˆ˜ ë‚´ë¶€ ë©”ì„œë“œ callì´ í˜¸ì¶œë˜ê³  ìƒì„±ìí•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë˜ë©´ constructê°€ í˜¸ì¶œëœë‹¤.
- ë‚´ë¶€ ë©”ì„œë“œ [[Call]]ì„ ê°–ëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ callableì´ë¼ê³  í•˜ê³ , [[Construct]]ë¥¼ ê°–ëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ constructor, [[Constructor]]ë¥¼ ê°–ì§€ ì•ŠëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ non-constructorë¼ê³  ë¶€ë¥¸ë‹¤.
- ëª¨ë“  í•¨ìˆ˜ ê°ì²´ëŠ” ë‚´ë¶€ ë©”ì„œë“œë¥¼ ê°–ê³  ìˆê¸°ë•Œë¬¸ì— í˜¸ì¶œ í• ìˆ˜ ìˆì§€ë§Œ, ëª¨ë“  í•¨ìˆ˜ê°€ [[Construct]]ë¥¼ ê°–ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.

![Untitled](17%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%8C%20f6f34/Untitled.png)

### 17. 2. 5 constructorì™€ non-constructorì˜ êµ¬ë¶„

- constructor : í•¨ìˆ˜ ì„ ì–¸ë¬¸, í•¨ìˆ˜ í‘œí˜„ì‹, í´ë˜ìŠ¤
- non-constructor : ë©”ì„œë“œ(ES6 ë©”ì„œë“œ ì¶•ì•½í‘œí˜„), í™”ì‚´í‘œ í•¨ìˆ˜

```jsx
// í•¨ìˆ˜ ì„ ì–¸ë¬¸, í•¨ìˆ˜ í‘œí˜„ì‹
function foo(){}
const bar = function (){};
// í”„ë¡œí¼í‹° x ê°’ìœ¼ë¡œ í• ë‹¹ëœ ê²ƒì€ ì¼ë°˜ í•¨ìˆ˜ë¡œ ì •ì˜ëœ í•¨ìˆ˜ë‹¤. ì´ëŠ” ë©”ì„œë“œë¡œ ì¸ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.
const baz = {
	x: function(){}
};

new foo();  // -> foo {}
new bar();  // -> bar {}
new bar.x();  // -> x {}

// í™”ì‚´í‘œ í•¨ìˆ˜
const arrow = () => {};
new arrow();  // TypeError -> non-constructorì´ê¸° ë•Œë¬¸ì—
const obj = {
	x() {}
};

new obj.x()  // TypeError: obj.x is not a constructor
```

### 17. 2. 6 new ì—°ì‚°ì

- new ì—°ì‚°ìì™€ í•¨ê»˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í•´ë‹¹ í•¨ìˆ˜ëŠ” ìƒì„±ì í•¨ìˆ˜ë¡œ ë™ì‘í•œë‹¤.

```jsx
// ìƒì„±ì í•¨ìˆ˜
funciton Circle(radius){
	this.radius = radius;
	this.getDiameter = function(){
	return 2 * this.radius;
	};
}

// new ì—°ì‚°ì ì—†ì´ í˜¸ì¶œí•˜ëŠ” ê²½ìš° ì¼ë°˜í•¨ìˆ˜ë¡œ ì¸ì‹í•¨
const circle = Circle(5);
console.log(circle); // undefined
console.log(radius); // 5
console.log(getDiameter()); // 10

circle.getDiameter();  // TypeError
```

### 17. 2. 7 new.target

- new ì—°ì‚°ì ì—†ì´ ìƒì„±ì í•¨ìˆ˜ê°€ ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ new.targetì„ ì‚¬ìš©í•œë‹¤.
- new ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ì í•¨ìˆ˜ë¡œ í˜¸ì¶œë˜ë©´ new.targetì€ í•¨ìˆ˜ ìì‹ ì„ ê°€ë¦¬í‚¨ë‹¤.
- new ì—°ì‚°ì ì—†ì´ ì¼ë°˜í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œëœ í•¨ìˆ˜ ë‚´ë¶€ì˜ new.targetì€ undefinedì´ë‹¤.

```jsx
// ìƒì„±ì í•¨ìˆ˜
function Circle(radius){
	if(!new.target){
		return new Circle(radius);
	}
		this.radius = radius;
		this.getDiameter = function(){
			return 2 * this.radius;
	}
};

// ìƒì„±ì í•¨ìˆ˜ ì—†ì´ í˜¸ì¶œí•´ë„ new.targetì„ í†µí•´ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œëœë‹¤.
const circle = Circle(5);
console.log(circle.getDiameter());

```